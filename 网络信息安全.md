# 网络信息安全
## 第一节
* 主动攻击
* 被动攻击
---
## 第二节
#### 密码学基本术语
* Cryptology    保密学
* Cryptography  密码编码学
* Cryptanalysis 密码破译学
* E(m)          加密变换
* D(c)          解密变换
#### 加密分类
* 序列密码：明文比特为单位，以伪随机序列与明文序列模2加后作为密文序列。
* 分组密码：大于等于64位数据块为单位，加密得相同长度的密文。
* 对称加密
* 非对称加密
#### 攻击类型
* 唯密文攻击
* 已知明文攻击
* 选择明文攻击
* 选择密文攻击
* 选择文本攻击
---
## 第三节
### 代换技术
* 明文字母替换成其他字符
* 若看做二进制，是密文位串代换明文位串
* 保持内容元素相对位置不变
#### 凯撒密码
可用穷举攻击
* 已知加密和解密算法
* 密钥只有 25 个
* 明文语言已知，意义易于识别

#### 单表代换密码
- 每条消息用一个字母表加密
- 有 26!=4X10<sup>26</sup> 种可能的密钥
- 因为语言的规律和特性不能抵御穷举攻击
1. Playfair 密码
2. 一次一密

### 置换技术
- 改变明文内容元素的相对位置，保持内容表现形式不变

### 隐写术
- 不是加密技术

### 分组密码
- Feistel 密码结构
- 将输入密码分组当做一个整体处理，输出一个等长的密文分组

### 数据加密标准 DES
- 2DES
    - 中途相遇攻击
- 3DES
    - 使用两个不同密钥
        - C=E<sub>K1</sub>[D<sub>K2</sub>[E<sub>K1</sub>[P]]]
        - **用 K1 加密，再用 K2 解密，再用 K1 加密**
        - 当 K1 与 K2 相同时，变为 DES
    - 使用三个不同密钥
        - C=E<sub>K3</sub>[D<sub>K2</sub>[E<sub>K1</sub>[P]]]
        - **用 K1 加密，再用 K2 解密，再用 K3 加密**
---
## 第四节

### ECB

### CBC
- 加密过程位错误影响所有后续加密块
- 传输过程位错误只影响下一个块的解密

### CFB
- 把 DES 转换为流加密
- 不要求补齐最后一块
- 传输过程位错误影响后续解密

### OFB
- 与 CFB 反馈位置不同
- 传输过程位错误只影响一个包的解密
- 容易受到篡改密文攻击

### CTR
- 可以做并行加密

---

## 第五节

### 欧几里得算法

### 有限域

### 计算乘法逆元素

### 多项式运算

### 多项式的模运算

### 单向函数（考过）
- 对于所有属于 f 域的任一 x，容易计算 y = f(x)
- 对于几乎属于 f 域的任一 y，求得 x，使 y = f(x)，在计算上不可行

### 单项陷门函数（考过）
- 对于所有属于 F 域的任一 x，容易计算 F(x) = y
- 对于几乎所有属于 F 域的任一 y，除非获得暗门信息，否则求出 x，使得 x = F<sup>-1</sup>(y) 在计算上不可行；如有暗门信息，则容易求出 x = F<sup>-1</sup>(y)

### 单向函数及其交换性
- 交换性 D(E(m)) = E(D(m))

### 费马定理（考过定义及证明）
- 若 P 是素数，a 是正整数且不能被 P 整除，则 a<sup>P-1</sup> mod P = 1

### 欧拉定理
- Φ(n) 是小于或等于n的正整数中与n互质的数的数目
- 对任意互质的 a 和 n 有 a<sup>Φ(n)</sup> mod n = 1

### 中国剩余定理
- 说明某一范围内的整数可通过它对两两互素的整数取模所得的结果重构

---

## 第六节

### 非对称加密算法

#### RSA 算法（掌握算法）
- 破解困难：分解大合数的素因子的困难
- 公钥 {e, n}
- 公钥 {d, n}
- **考试：选择、计算、证明题**

#### 作业
- 求 7 对 160 的乘法逆元（用扩展欧几里得算法）

---

## 第七节

### 密钥管理之公钥的分配

### Diffel-Hellman 密钥交换

### EIGamal 密码系统

---

## 第八节

### 消息认证

- 最常见密码技术
    - 消息认证码
    - 安全散列函数
- 关心问题
    - 消息完整性
    - 验证身份
    - 消息源的不可否认
- 考虑安全需求
- 攻击类型
    - 泄密
    - 传输分析
    - 伪装
    - 内容篡改
    - 顺序篡改
    - 计时篡改
    - 信源抵赖
    - 信宿抵赖
- 消息加密本身提供了一种认证手段
    - 解密所得消息可读性问题：在加密前对每个消息附加一个帧校验序列（FCS）
        - 内部错误校验
        - 外部错误校验
- 公钥加密作为认证手段
    - 发送方使用私钥加密，接收方使用公钥解密
    - 发送方用私钥加密，再用接收方的公钥加密就实现了加密和认证
- 消息认证码 MAC
    - 通信双方 A 和 B 共享密钥 K，报文从 A 到 B，A 计算 MAC=C<sub>K</sub>(M)，附在报文后发给 B，B 接收到后再计算 MAC 查看是否匹配
    - 接收方可以确信报文未被更改
    - 接收方可以确信报文来自声称的发送者
    - 接收方可以确信报文序号正确，如果有的话
    - 不提供保密
    - 不提供数字签名，因为双方共享密钥
    - 与明文并置，传输加密比较常用
- 散列函数（看PPT）
    - 定义
    - 要求
    - 分类：看是否有密钥
        - 有：MAC
        - 没有：MDC

---

## 第九节

### 考试

第十周周四

### 数字签名

- 计算消息的散列值并用产生者的私钥加密散列值来生成签名 
- 保证消息的来源和完整性
- 标准：DSS
- 算法：DSA
- 定义
- 基本要求
- 与消息认证区别：消息认证可防止消息被第三方破坏，但无法解决双方利害冲突
- 对消息签名的两种方法
    - 对消息整体的签字
    - 对消息摘要的签字
- 两类数字签名
    - 确定性数字签名，明文与签名一一对应
    - 概率性数字签名，一个明文可以有多个合法签名，每次都不一样
- 直接数字签名
    - 仅涉及通信方
    - 信宿知道信源的公钥
    - 数字签名通过信源对整个报文用私钥加密，或对报文摘要加密实现
    - 通常先签名，然后对消息和签名一起加密
    - 依赖信源私钥的安全性
- 仲裁数字签名
    - 涉及仲裁方
    - 签名报文首先发送给仲裁者
    - 仲裁者对报文和签名进行测试检验出处和内容，然后注上日期和仲裁说明后发给接收方
    - 要求仲裁方可信任
    - 可用对称非对称加密算法实现
    - 仲裁方不必要知道消息

### 认证协议

- 证实信息交换过程有效性和合法性的手段
    - 对通信对象认证
    - 对报文内容认证
- 方法
    - 单向认证
    - 双向认证
        - 重放攻击：合法的签名消息被拷贝后重新送出
        - **重放攻击的解决方法**
            - 序列号
            - 时间戳（需要同步时钟）
            - 挑战/应答（使用单独的 nonce）
    - 可信中继
    - 群认证
- **ElGamal 的数字签名方法**

### X.509 认证服务

- 证书链
    - 每个 CA 目录入口包含两种证书
        - 向前证书：由其他 CA 发给 X 的证书
        - 向后证书：X 发给其他 CA 的证书
- 证书的撤销
    - 有效期，到期失效
    - 提前撤销证书
        - 用户私钥认为不安全
        - 用户不信任 CA
        - CA 证书被认为不安全
    - CA 维护一张证书撤销列表
        - CRL（the Certificate Revocation List）
    - 认证方式
        - 单向认证
        - 双向认证
        - 三向认证

### PKI 


### 第十节

#### Kerberos

#### 协议分析

查看协议缺陷方法

- 查看是否有密钥被明文发送
- 若密钥为加密发送，检查消息是否以随机数或时间作为标识，否则存在重放攻击